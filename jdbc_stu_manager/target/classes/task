-- sql分析
-- 管理员账户只能由数据库管理员赋予
-- 学生和班级
-- 一个班有多个学生
-- 一个课可以被多个学生选

-- 班级表
DROP TABLE
IF
	EXISTS t_grade;
CREATE TABLE t_grade (
gid int NOT NULL PRIMARY KEY AUTO_INCREMENT COMMENT'班级id',
gname VARCHAR(200) not NULL
);

-- 学生信息表
DROP TABLE
IF
	EXISTS t_student;
CREATE TABLE t_student (
sid int PRIMARY KEY  NOT NUll AUTO_INCREMENT COMMENT '学生学号',
sname VARCHAR(200) NOT NUll COMMENT '学生姓名',
stel VARCHAR(20) NOT NULL COMMENT '学生手机号',
sgid int NOT NULL COMMENT '学生班级',-- 外键对应的主键id
isadmin int DEFAULT 0 COMMENT '管理员1是0否',
CONSTRAINT stu_grade_fk0  FOREIGN KEY(sgid) REFERENCES t_grade (gid)
);

-- 课程表
DROP TABLE
IF
	EXISTS t_subject;
CREATE TABLE t_subject (
subid int PRIMARY KEY  NOT NUll KEY AUTO_INCREMENT COMMENT '课程id',
subname VARCHAR(200) COMMENT '课程名称'
sfinsh varchar()
);

-- 中间表
DROP TABLE
IF
	EXISTS t_grade_subject;
CREATE TABLE t_grade_subject (
gsid INT AUTO_INCREMENT PRIMARY KEY,
gid int ,
subid int,
CONSTRAINT t_grade_subject_gid_fk0 FOREIGN KEY(gid) REFERENCES t_grade(gid),
CONSTRAINT t_grade_subject_subid_fk0 FOREIGN KEY(subid) REFERENCES t_subject(subid)
);

-- 插入班级信息
INSERT into t_grade (gname) VALUES ('一班'),('二班'),('三班'),('四班');
-- 插入学生信息
INSERT INTO t_student (sname,stel,sgid) VALUES ('李洋洋','10010','1'),('李四','10086','1'),('王麻子','10000','2'),('杨逵','10001','1'),('周扒皮','10086','4'),('路飞','10002','3'),
